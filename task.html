<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WorkHub Tasks</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-sans">
  <header class="bg-white shadow p-4 flex justify-between items-center">
    <h1 class="text-2xl font-bold text-green-600">WorkHub</h1>
  </header>

  <main class="max-w-5xl mx-auto p-4">
    <h2 class="text-xl font-semibold mb-4">Available Tasks</h2>

    <div id="taskList" class="space-y-6">
      <!-- Tasks will be dynamically inserted here -->
    </div>
  </main>

  <!-- Rating Modal -->
  <div id="ratingModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-white rounded-xl p-6 w-80 text-center shadow-lg">
      <h3 class="text-lg font-bold mb-2">Rating Restricted</h3>
      <p class="text-sm text-gray-600 mb-4">Only freelancers who completed and got paid for this task can rate it.</p>
      <button onclick="closeModal()" class="bg-green-600 text-white px-4 py-2 rounded-lg">Close</button>
    </div>
  </div>

  <script>
    const tasks = [
      {
        id: 'TASK12345',
        title: 'Logo Design for Startup',
        amount: 150,
        posted: '2025-05-12',
        bids: 6,
        rating: 4
      },
      {
        id: 'TASK67890',
        title: 'Web App Debugging',
        amount: 250,
        posted: '2025-05-13',
        bids: 4,
        rating: 5
      }
      [
  { id: 'TASK3452', title: 'Essay Writing', amount: 75, posted: '2025-05-01', bids: 18, rating: 4 },
  { id: 'TASK8761', title: 'Content Writing', amount: 120, posted: '2025-05-02', bids: 30, rating: 5 },
  { id: 'TASK9873', title: 'Article Writing', amount: 100, posted: '2025-05-03', bids: 25, rating: 3 },
  { id: 'TASK4567', title: 'Video Editing', amount: 200, posted: '2025-05-04', bids: 20, rating: 5 },
  { id: 'TASK2345', title: 'Survey Analysis', amount: 150, posted: '2025-05-05', bids: 15, rating: 4 },
  { id: 'TASK4321', title: 'Speech Writing', amount: 90, posted: '2025-05-06', bids: 28, rating: 3 },
  { id: 'TASK6543', title: 'Math Tutoring', amount: 180, posted: '2025-05-07', bids: 36, rating: 5 },
  { id: 'TASK7890', title: 'Vlog Editing', amount: 220, posted: '2025-05-08', bids: 12, rating: 4 },
  { id: 'TASK5432', title: 'Research Paper', amount: 250, posted: '2025-05-09', bids: 14, rating: 5 },
  { id: 'TASK6789', title: 'Campus Survey', amount: 60, posted: '2025-05-10', bids: 32, rating: 3 },
  { id: 'TASK3456', title: 'Content Proofreading', amount: 80, posted: '2025-05-11', bids: 24, rating: 4 },
  { id: 'TASK9870', title: 'Logo Design', amount: 175, posted: '2025-05-12', bids: 26, rating: 5 },
  { id: 'TASK1234', title: 'Data Entry', amount: 70, posted: '2025-05-13', bids: 22, rating: 3 },
  { id: 'TASK5678', title: 'Thesis Editing', amount: 230, posted: '2025-05-14', bids: 18, rating: 5 },
  { id: 'TASK8765', title: 'Blog Writing', amount: 110, posted: '2025-05-15', bids: 20, rating: 4 },
  { id: 'TASK4329', title: 'Video Script', amount: 95, posted: '2025-05-16', bids: 16, rating: 3 },
  { id: 'TASK2349', title: 'Academic Editing', amount: 200, posted: '2025-05-17', bids: 28, rating: 5 },
  { id: 'TASK7654', title: 'Survey Design', amount: 130, posted: '2025-05-18', bids: 34, rating: 4 },
  { id: 'TASK8769', title: 'PowerPoint Presentation', amount: 90, posted: '2025-05-19', bids: 19, rating: 3 },
  { id: 'TASK2348', title: 'Social Media Content', amount: 150, posted: '2025-05-20', bids: 21, rating: 4 },
  { id: 'TASK9871', title: 'Mathematical Modelling', amount: 240, posted: '2025-05-21', bids: 35, rating: 5 },
  { id: 'TASK3214', title: 'Grant Proposal', amount: 210, posted: '2025-05-22', bids: 14, rating: 5 },
  { id: 'TASK6547', title: 'Translation Work', amount: 85, posted: '2025-05-23', bids: 25, rating: 4 },
  { id: 'TASK7892', title: 'Proofreading', amount: 75, posted: '2025-05-24', bids: 30, rating: 3 },
  { id: 'TASK3458', title: 'Research Summary', amount: 130, posted: '2025-05-25', bids: 17, rating: 4 },
  { id: 'TASK9875', title: 'Academic Essay', amount: 115, posted: '2025-05-26', bids: 27, rating: 5 },
  { id: 'TASK4327', title: 'Content Strategy', amount: 190, posted: '2025-05-27', bids: 33, rating: 4 },
  { id: 'TASK2346', title: 'Video Subtitling', amount: 100, posted: '2025-05-28', bids: 12, rating: 3 },
  { id: 'TASK7658', title: 'Editing Thesis', amount: 225, posted: '2025-05-29', bids: 29, rating: 5 },
  { id: 'TASK8763', title: 'Creative Writing', amount: 140, posted: '2025-05-30', bids: 20, rating: 4 },
  { id: 'TASK2347', title: 'Survey Data Entry', amount: 80, posted: '2025-05-31', bids: 22, rating: 3 },
  { id: 'TASK9876', title: 'Academic Research', amount: 250, posted: '2025-06-01', bids: 36, rating: 5 },
  { id: 'TASK3217', title: 'Blog Editing', amount: 90, posted: '2025-06-02', bids: 19, rating: 4 },
  { id: 'TASK6548', title: 'Video Review', amount: 130, posted: '2025-06-03', bids: 25, rating: 3 },
  { id: 'TASK7893', title: 'Speech Preparation', amount: 110, posted: '2025-06-04', bids: 21, rating: 4 },
  { id: 'TASK3459', title: 'Content Research', amount: 95, posted: '2025-06-05', bids: 18, rating: 3 },
  { id: 'TASK9877', title: 'Math Problem Solving', amount: 200, posted: '2025-06-06', bids: 30, rating: 5 },
  { id: 'TASK4328', title: 'Article Editing', amount: 115, posted: '2025-06-07', bids: 27, rating: 4 },
  { id: 'TASK2340', title: 'Survey Report', amount: 140, posted: '2025-06-08', bids: 32, rating: 3 },
  { id: 'TASK7659', title: 'Academic Proofreading', amount: 180, posted: '2025-06-09', bids: 35, rating: 5 },
  { id: 'TASK8764', title: 'Social Media Ads', amount: 100, posted: '2025-06-10', bids: 14, rating: 4 },
  { id: 'TASK2341', title: 'Translation Editing', amount: 85, posted: '2025-06-11', bids: 20, rating: 3 },
  { id: 'TASK9878', title: 'Content Summarizing', amount: 70, posted: '2025-06-12', bids: 28, rating: 4 },
  { id: 'TASK3218', title: 'Video Captioning', amount: 150, posted: '2025-06-13', bids: 24, rating: 5 },
  { id: 'TASK6549', title: 'Research Editing', amount: 225, posted: '2025-06-14', bids: 19, rating: 5 },
  { id: 'TASK7894', title: 'Blog Content', amount: 120, posted: '2025-06-15', bids: 21, rating: 4 },
  { id: 'TASK3460', title: 'Survey Analysis', amount: 95, posted: '2025-06-16', bids: 15, rating: 3 },
  { id: 'TASK9879', title: 'Academic Writing', amount: 250, posted: '2025-06-17', bids: 36, rating: 5 },
  { id: 'TASK4329', title: 'Math Tutoring', amount: 190, posted: '2025-06-18', bids: 20, rating: 4 },
  { id: 'TASK2342', title: 'Content Creation', amount: 110, posted: '2025-06-19', bids: 22, rating: 3 },
  { id: 'TASK7660', title: 'Video Editing', amount: 180, posted: '2025-06-20', bids: 26, rating: 5 },
  { id: 'TASK8766', title: 'Research Summary', amount: 130, posted: '2025-06-21', bids: 29, rating: 4 },
  { id: 'TASK2343', title: 'Speech Writing', amount: 90, posted: '2025-06-22', bids: 30, rating: 3 },
  { id: 'TASK9880', title: 'Survey Design', amount: 150, posted: '2025-06-23', bids: 24, rating: 5 },
  { id: 'TASK3219', title: 'Grant Proposal', amount: 210, posted: '2025-06-24', bids: 35, rating: 5 },
  { id: 'TASK6550', title: 'Content Proofreading', amount: 80, posted: '2025-06-25', bids: 19, rating: 4 },
  { id: 'TASK7895', title: 'Video Script', amount: 95, posted: '2025-06-26', bids: 21, rating: 3 },
  { id: 'TASK3461', title: 'Academic Essay', amount: 115, posted: '2025-06-27', bids: 28, rating: 5 },
  { id: 'TASK9881', title: 'Blog Writing', amount: 110, posted: '2025-06-28', bids: 16, rating: 4 },
  { id: 'TASK4330', title: 'Math Modelling', amount: 240, posted: '2025-06-29', bids: 36, rating: 5 },
  { id: 'TASK2344', title: 'Translation Work', amount: 85, posted: '2025-06-30', bids: 20, rating: 3 },
  { id: 'TASK7661', title: 'Proofreading', amount: 75, posted: '2025-07-01', bids: 18, rating: 4 },
  { id: 'TASK8767', title: 'Creative Writing', amount: 140, posted: '2025-07-02', bids: 22, rating: 5 },
  { id: 'TASK2345', title: 'Survey Data Entry', amount: 80, posted: '2025-07-03', bids: 27, rating: 3 },
  { id: 'TASK9882', title: 'Academic Research', amount: 250, posted: '2025-07-04', bids: 35, rating: 5 },
  { id: 'TASK3220', title: 'Blog Editing', amount: 90, posted: '2025-07-05', bids: 14, rating: 4 },
  { id: 'TASK6551', title: 'Video Review', amount: 130, posted: '2025-07-06', bids: 25, rating: 3 },
  { id: 'TASK7896', title: 'Speech Preparation', amount: 110, posted: '2025-07-07', bids: 30, rating: 4 },
  { id: 'TASK3462', title: 'Content Research', amount: 95, posted: '2025-07-08', bids: 12, rating: 3 },
  { id: 'TASK9883', title: 'Math Problem Solving', amount: 200, posted: '2025-07-09', bids: 34, rating: 5 },
  { id: 'TASK4331', title: 'Article Editing', amount: 115, posted: '2025-07-10', bids: 19, rating: 4 },
  { id: 'TASK2346', title: 'Survey Report', amount: 140, posted: '2025-07-11', bids: 21, rating: 3 },
  { id: 'TASK7662', title: 'Academic Proofreading', amount: 180, posted: '2025-07-12', bids: 29, rating: 5 },
  { id: 'TASK8768', title: 'Social Media Ads', amount: 100, posted: '2025-07-13', bids: 24, rating: 4 },
  { id: 'TASK2347', title: 'Translation Editing', amount: 85, posted: '2025-07-14', bids: 26, rating: 3 },
  { id: 'TASK9884', title: 'Content Summarizing', amount: 70, posted: '2025-07-15', bids: 32, rating: 4 },
  { id: 'TASK3221', title: 'Video Captioning', amount: 150, posted: '2025-07-16', bids: 20, rating: 5 },
  { id: 'TASK6552', title: 'Research Editing', amount: 225, posted: '2025-07-17', bids: 33, rating: 5 },
  { id: 'TASK7897', title: 'Blog Content', amount: 120, posted: '2025-07-18', bids: 15, rating: 4 },
  { id: 'TASK3463', title: 'Survey Analysis', amount: 95, posted: '2025-07-19', bids: 27, rating: 3 },
  { id: 'TASK9885', title: 'Academic Writing', amount: 250, posted: '2025-07-20', bids: 36, rating: 5 }

    ];

    const completedTasks = JSON.parse(localStorage.getItem('completedTasks') || '[]');

    function renderTasks() {
      const taskList = document.getElementById('taskList');
      taskList.innerHTML = '';

      tasks.forEach(task => {
        const div = document.createElement('div');
        div.className = 'bg-white p-6 rounded-lg shadow';
        div.innerHTML = `
          <div class="flex justify-between items-start">
            <div>
              <h3 class="text-lg font-bold text-gray-800">${task.title}</h3>
              <p class="text-sm text-gray-500">Task ID: ${task.id}</p>
              <p class="text-sm text-gray-500">Posted: ${task.posted}</p>
              <p class="text-sm text-gray-500">Bids: ${task.bids}</p>
              <p class="text-md font-semibold text-green-600 mt-2">Amount: $${task.amount}</p>
            </div>
            <div class="flex flex-col items-end">
              <a href="bid.html?taskId=${task.id}&amount=${task.amount}" class="bg-green-600 text-white px-4 py-2 rounded-lg mb-2">Bid</a>
              <div class="flex items-center">
                ${[1, 2, 3, 4, 5].map(i => `
                  <svg onclick="handleRating('${task.id}', ${i})" class="w-5 h-5 cursor-pointer ${i <= task.rating ? 'text-green-600' : 'text-gray-300'}" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.974a1 1 0 00.95.69h4.18c.969 0 1.371 1.24.588 1.81l-3.39 2.46a1 1 0 00-.364 1.118l1.286 3.974c.3.921-.755 1.688-1.54 1.118l-3.39-2.46a1 1 0 00-1.175 0l-3.39 2.46c-.784.57-1.838-.197-1.539-1.118l1.285-3.974a1 1 0 00-.364-1.118l-3.39-2.46c-.784-.57-.38-1.81.588-1.81h4.18a1 1 0 00.951-.69l1.285-3.974z" />
                  </svg>
                `).join('')}
              </div>
            </div>
          </div>
        `;
        taskList.appendChild(div);
      });
    }

    function handleRating(taskId, ratingValue) {
      if (!completedTasks.includes(taskId)) {
        document.getElementById('ratingModal').classList.remove('hidden');
        return;
      }
      alert(`Thanks for rating task ${taskId} with ${ratingValue} stars.`);
    }

    function closeModal() {
      document.getElementById('ratingModal').classList.add('hidden');
    }

    renderTasks();
  </script>
</body>
</html>
