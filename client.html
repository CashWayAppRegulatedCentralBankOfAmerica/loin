<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Find Talent | Nova Prime</title>
  <link rel="icon" type="image/png" href="nova_favicon.png">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
</head>
<body class="bg-gray-100 font-sans">
  <header class="fixed top-0 left-0 w-full z-50 bg-white shadow p-4 flex justify-between items-center">
    <h1 class="text-2xl font-bold text-green-600">Nova Prime</h1>
  </header>

  <main class="pt-20 max-w-4xl mx-auto p-6 bg-white mt-6 rounded-lg shadow pb-32">
    <h2 class="text-2xl font-semibold text-green-600 mb-6">Find Talent - Post a Job</h2>
    <form id="jobForm" class="space-y-6">

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block font-semibold mb-1">Your Full Name</label>
          <input name="full_name" type="text" class="w-full border rounded-lg px-4 py-2" required>
        </div>
        <div>
          <label class="block font-semibold mb-1">Country</label>
          <select id="countrySelect" name="country" class="w-full border rounded-lg px-4 py-2" required></select>
        </div>
        <div>
          <label class="block font-semibold mb-1">Phone Number</label>
          <div class="flex">
            <input id="phoneCode" type="text" class="w-24 border rounded-l-lg px-3 py-2 bg-gray-100" readonly>
            <input name="phone" id="phoneNumber" type="tel" class="flex-1 border-t border-b border-r rounded-r-lg px-4 py-2" required>
          </div>
        </div>
        <div>
          <label class="block font-semibold mb-1">Email</label>
          <input name="email" type="email" class="w-full border rounded-lg px-4 py-2" required>
        </div>
      </div>

      <div>
        <label class="block font-semibold mb-1">Job Title</label>
        <input name="job_title" type="text" class="w-full border rounded-lg px-4 py-2" required>
      </div>

      <div>
        <label class="block font-semibold mb-1">Requirements</label>
        <input name="requirements" type="text" class="w-full border rounded-lg px-4 py-2" required>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block font-semibold mb-1">Number of Freelancers Needed</label>
          <input name="num_freelancers" type="number" min="1" class="w-full border rounded-lg px-4 py-2" required>
        </div>
        <div>
          <label class="block font-semibold mb-1">Amount to Pay per Freelancer (USD)</label>
          <input name="pay_amount" type="number" min="15" step="0.01" class="w-full border rounded-lg px-4 py-2" required>
        </div>
      </div>

      <div>
        <label class="block font-semibold mb-1">Task Description</label>
        <textarea name="description" class="w-full border rounded-lg px-4 py-2" rows="4" required></textarea>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block font-semibold mb-1">When Should the Job Be Posted?</label>
          <input name="post_date" type="date" class="w-full border rounded-lg px-4 py-2" required>
        </div>
        <div>
          <label class="block font-semibold mb-1">When Should the Task Be Completed?</label>
          <input name="due_date" type="date" class="w-full border rounded-lg px-4 py-2" required>
        </div>
      </div>

      <div>
        <label class="block font-semibold mb-1">Category (Optional)</label>
        <select name="category" class="w-full border rounded-lg px-4 py-2">
          <option value="">Select a Category</option>
          <option>Web Development</option>
          <option>Mobile App Development</option>
          <option>UI/UX Design</option>
          <option>Graphic Design</option>
          <option>Data Entry</option>
          <option>Writing & Translation</option>
          <option>Digital Marketing</option>
          <option>SEO & SEM</option>
          <option>Social Media Management</option>
          <option>Video Editing</option>
          <option>Virtual Assistance</option>
          <option>Customer Support</option>
          <option>Accounting & Finance</option>
          <option>Legal Consulting</option>
          <option>Project Management</option>
          <option>Cybersecurity</option>
          <option>QA & Testing</option>
          <option>Blockchain & Crypto</option>
          <option>AI & Machine Learning</option>
          <option>Sales & Lead Generation</option>
        </select>
      </div>

      <div>
        <button type="submit" class="w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 font-semibold">Post Task</button>
      </div>
    </form>
  </main>

  <div id="taskSuccessModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="bg-white max-w-lg w-full rounded-xl shadow-lg p-6 text-center">
      <h2 class="text-xl font-bold text-green-600 mb-4">Task Submitted</h2>
      <p id="taskGreeting" class="text-gray-700 mb-4"></p>
      <p class="text-gray-700 mb-6">Once it's approved and posted live, you will receive an <strong>email notification</strong> including your Task ID.</p>
      <button onclick="goToDashboard()" class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg">Done</button>
    </div>
  </div>

  <footer class="fixed bottom-0 left-0 w-full bg-white text-center py-4 text-gray-500 text-sm z-50 shadow">
    <p>&copy; 2025 Nova Prime Inc. All rights reserved.</p>
    <div class="space-x-4">
      <a href="privacy.html" class="hover:text-green-600">Privacy</a>
      <a href="terms.html" class="hover:text-green-600">Terms</a>
      <a href="help.html" class="hover:text-green-600">Help</a>
    </div>
  </footer>

  <script>
    const countryData = [{ name: "Nigeria", code: "+234" }, { name: "United States", code: "+1" }, { name: "India", code: "+91" }]; // Keep minimal for demo
    const countrySelect = document.getElementById("countrySelect");
    const phoneCode = document.getElementById("phoneCode");

    countryData.forEach(c => {
      const option = document.createElement("option");
      option.value = c.name;
      option.textContent = c.name;
      countrySelect.appendChild(option);
    });

    countrySelect.addEventListener("change", () => {
      const selected = countryData.find(c => c.name === countrySelect.value);
      phoneCode.value = selected ? selected.code : "";
    });

    function goToDashboard() {
      window.location.href = "index.html"; // Or wherever the dashboard is
    }

    emailjs.init("3yOR8p0EN0PJ3Y7y8"); // Replace with your actual public key

    document.getElementById("jobForm").addEventListener("submit", function(e) {
      e.preventDefault();

      emailjs.sendForm("service_81mfdox", "template_5poxksk", this)
        .then(() => {
          document.getElementById("taskSuccessModal").classList.remove("hidden");
          const name = this.full_name.value;
          document.getElementById("taskGreeting").textContent = `Thank you, ${name}. Your job post has been received.`;
          this.reset();
          phoneCode.value = "";
        })
        .catch(err => alert("Failed to send. Try again later."));
    });
  </script>
</body>
</html>
